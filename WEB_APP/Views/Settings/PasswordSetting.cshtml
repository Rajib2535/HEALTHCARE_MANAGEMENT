@model DATA.Models.ViewModels.UserPermissionViewModels.ResetPasswordViewModel
@{
    ViewData["Title"] = "Reset Password";
}

<div class="row">
    <div class="col-lg-6">
        <div class="white-box">
          
            @if (TempData["PasswordChangeMessage"] != null)
            {
                <img src="~/images/ok.jpg" width="50" height="50">
                <span style="color: green; font-size:large;" role="alert">
                    @TempData["PasswordChangeMessage"]
                </span>
                <br />
            }
        </div>
        <!-- small box -->
        <div class="card card-primary">
            <div class="card-header">
                <h3 class="card-title">Password Change</h3>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
              
                @using (Html.BeginForm("UpdatePassword", "Settings", FormMethod.Post, new { autocomplete = "off", enctype = "multipart/form-data", @id = "updatepasswordform" }))
                {
                    <input type="hidden" asp-for="UserId" />
                    <input type="hidden" asp-for="CurrentPassword" />

                    <div class="form-group row">
                        <div class="col-sm-10">
                            <div class="input-group">
                                <input type="password" asp-for="Password" class="form-control" placeholder="Password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-lock"></span>
                                    </div>
                                </div>
                            </div>
                            <span asp-validation-for="Password" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-sm-10">
                            <div class="input-group">
                                <input type="password" asp-for="ConfirmPassword" class="form-control" placeholder="Confirm Password">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-lock"></span>
                                    </div>
                                </div>
                            </div>
                            <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-4">
                            <button type="submit" class="btn btn-primary btn-block">Update Password</button>
                        </div>
                    </div>
                }

                <br />

                @{
                    string text = string.Empty;
                    if (ViewBag.failed != null)
                    {
                        text = Convert.ToString(ViewBag.failed);
                    }
                }
                <div style="color:red">
                    @text
                </div>
            </div>
            <!-- /.card-body -->
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
}
